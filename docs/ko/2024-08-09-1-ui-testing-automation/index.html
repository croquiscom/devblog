<!DOCTYPE html>
<html lang='ko'>

<head>
  <meta charset='utf-8'>

  <title>UI 테스트 자동화</title>
  
  <meta name='author' content='kakaostyle.com'>
  <meta name='viewport' content='width=device-width, initial-scale=1.0'>

  <meta property='og:title' content='UI 테스트 자동화' />
  <meta property='og:description' content='테스트를 거치지 않은 소프트웨어는 없습니다. 하지만 많은 기능을 가져 복잡해진 현대의 소프트웨어를 온전히 테스트하는 것은 굉장히 어려운 일입니다. 이러한 테스트' />
  <meta property='og:type' content='article' />
  <meta property='og:url' content='https://devblog.kakaostyle.com/ko/2024-08-09-1-ui-testing-automation/' />
  
  <meta property='og:image' content='https://devblog.kakaostyle.com/img/og-image.png' />  
  

  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css"
    integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">
  <link href='/css/style.css?body=1' rel='stylesheet' type='text/css' media='all'>
  <link href='/css/syntax.css?body=1' rel='stylesheet' type='text/css' media='all'>
</head>

<body>
<div class='hp-navbar-top'>
  <div class='container'>
    <div class='row'>
      <div class='col-12'>
        <nav class='hp-nav'>
          <span>
            <a href='/' class='logo-a-tag'>
              <img class='hp-navbar-logo' src='/img/logo-kakaostyle.png'>
              <span class='hp-navbar-logo-font'>기술 블로그</span>
            </a>
          </span>
        </nav>
        <div class='float-right hp-navbar-top-link'>
          <a class='hp-nav-item' href='https://kakaostyle.com' target='_blank'>
            <img class='icon' src='/img/kakaostyle-icon.png'>
          </a>
          <a class='hp-nav-item' href='https://github.com/croquiscom' target='_blank'>
            <img class='icon' src='/img/github-icon.svg'>
          </a>
        </div>
      </div>
    </div>
  </div>
</div>
<div class='hp-navbar'>
  <div class='hp-navbar-bgcolor'>
    <div class='container'>
      <div class='text-center'>
        <div class='hp-navbar-title'>UI 테스트 자동화</div>
      </div>
    </div>
  </div>
</div>


<div class='container'>

  <div class='row'>
    <div class='col-12'>
      <div class='post-header'>
        <div class='post-tags'>
          

<ul class='tag_box inline'>
  <li><i class='fas fa-tags'></i></li>
  
  <li>
    <a href='/ko/tags/testing'>
      Testing
      <span>5</span>
    </a>
  </li>
  
</ul>

        </div>
        <div class='float-right'>
          
          <div class='post-author'>
            <i class='fas fa-pencil-alt'></i>
            <span>Reo(신정훈)</span>
          </div>
          
          <div class='post-date'>
            <i class='fas fa-calendar-alt'></i>
            <span>09 August 2024</span>
          </div>
        </div>
      </div>
    </div>

    <div class='col-12 col-lg-9'>
      <p>테스트를 거치지 않은 소프트웨어는 없습니다. 하지만 많은 기능을 가져 복잡해진 현대의 소프트웨어를 온전히 테스트하는 것은 굉장히 어려운 일입니다.</p>
<p>이러한 테스트를 자동화하지 않은 채 소프트웨어를 지속적으로 배포하는 것은 불가능에 가깝다고 할 수 있습니다.
이번 글에서는 카카오스타일에서 진행하는 UI 테스트 자동화 시스템에 대해 설명해보겠습니다.</p>
<blockquote>
<p>테스트는 범위에 따라 보통 단위 테스트(unit testing), 통합 테스트(integration testing), E2E 테스트(end-to-end testing)로 나눠집니다. 여기서 얘기하는 UI 테스트는 E2E 테스트에 해당합니다.</p>
</blockquote>
<h2 id="ui-테스트-자동화-목표">UI 테스트 자동화 목표</h2>
<ul>
<li>주요 기능 검증: 회귀 테스트(regression testing), 스모크 테스트(smoke testing)를 포함한 단순하고 반복적인 테스트를 대체해, 수동 테스트를 진행하는 QA 인원은 좀 더 복잡하고 찾기 어려운 문제에 집중할 수 있게 합니다</li>
<li>주요 지면 상시 모니터링: 모니터링 도구(예, 데이터독)의 지표로는 드러나지 않지만, 사용자가 체감할 수 있는 문제를 신속히 발견 및 전파하는 도구로 사용합니다</li>
</ul>
<h2 id="자동화-환경-구성">자동화 환경 구성</h2>
<p><img src="/img/content/2024-08-09-1/1.png" alt="1.png"></p>
<ul>
<li><strong>코드 관리 및 작성</strong>: IntelliJ와 같은 IDE를 활용하여 코드를 작성하고, GitHub를 통해 코드를 관리합니다.</li>
<li><strong>Jenkins</strong>: <a href="https://www.jenkins.io/">Jenkins</a>는 CI/CD 파이프라인의 핵심으로, 스케줄링을 통해 테스트를 주기적으로 수행합니다.</li>
<li><strong>장치 연동 및 운영</strong>: 다양한 실제 장치(Android, iOS, 웹 브라우저 등)와의 연동을 통해 원격으로 테스트를 모니터링하고 실행합니다.</li>
<li><strong>Appium을 통한 테스트 실행</strong>: 연결된 실제 장치에서 <a href="appium.io/">Appium</a>을 통해 자동화 테스트를 수행합니다.</li>
<li><strong>결과 분석 및 보고:</strong> Jenkins 및 <a href="https://github.com/sudharsan-selvaraj/appium-dashboard-plugin">Appium Dashboard</a>를 통해 상세 로그를 확인하고, <a href="https://extentreports.com/">Extent Reports</a>로 테스트 결과를 시각화하여 개발팀에 제공하며, <a href="https://plugins.jenkins.io/slack/">Slack Notification</a>으로 실시간 알림을 전송합니다.</li>
</ul>
<h2 id="테스트-구성">테스트 구성</h2>
<p>지그재그 애플리케이션은 네이티브와 웹을 혼합한 하이브리드 구조를 채택하고 있습니다. Appium을 사용하여 주요 기능 및 네이티브와 웹 간의 상호작용을 테스트하여 전체 사용자 경험을 검증하고, 조화롭게 작동하는지 확인합니다.</p>
<h3 id="사용자-시나리오-기반-테스트"><strong>사용자 시나리오 기반 테스트</strong></h3>
<p>실제 사용자가 애플리케이션을 사용할 때의 시나리오를 기반으로 테스트를 진행합니다. 사용자의 경로를 따라 애플리케이션의 주요 기능이 의도대로 작동하는지 확인합니다. 예를 들어, 로그인, 데이터 입력, 결과 확인 등의 사용자 흐름을 포함합니다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@Test</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">void</span> <span class="nf">testUserLoginAndInput</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Login process
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">WebElement</span> <span class="n">usernameField</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="na">findElement</span><span class="o">(</span><span class="n">By</span><span class="o">.</span><span class="na">id</span><span class="o">(</span><span class="s">&#34;username&#34;</span><span class="o">));</span>
</span></span><span class="line"><span class="cl">    <span class="n">WebElement</span> <span class="n">passwordField</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="na">findElement</span><span class="o">(</span><span class="n">By</span><span class="o">.</span><span class="na">id</span><span class="o">(</span><span class="s">&#34;password&#34;</span><span class="o">));</span>
</span></span><span class="line"><span class="cl">    <span class="n">WebElement</span> <span class="n">loginButton</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="na">findElement</span><span class="o">(</span><span class="n">By</span><span class="o">.</span><span class="na">id</span><span class="o">(</span><span class="s">&#34;login_button&#34;</span><span class="o">));</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">usernameField</span><span class="o">.</span><span class="na">sendKeys</span><span class="o">(</span><span class="s">&#34;testuser&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">passwordField</span><span class="o">.</span><span class="na">sendKeys</span><span class="o">(</span><span class="s">&#34;password123&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">loginButton</span><span class="o">.</span><span class="na">click</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// Validate successful login
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">WebElement</span> <span class="n">homeScreen</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="na">findElement</span><span class="o">(</span><span class="n">By</span><span class="o">.</span><span class="na">id</span><span class="o">(</span><span class="s">&#34;home_screen&#34;</span><span class="o">));</span>
</span></span><span class="line"><span class="cl">    <span class="n">Assert</span><span class="o">.</span><span class="na">assertTrue</span><span class="o">(</span><span class="n">homeScreen</span><span class="o">.</span><span class="na">isDisplayed</span><span class="o">(),</span> <span class="s">&#34;Home screen should be displayed after login.&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// Data input
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">WebElement</span> <span class="n">inputField</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="na">findElement</span><span class="o">(</span><span class="n">By</span><span class="o">.</span><span class="na">id</span><span class="o">(</span><span class="s">&#34;input_field&#34;</span><span class="o">));</span>
</span></span><span class="line"><span class="cl">    <span class="n">WebElement</span> <span class="n">submitButton</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="na">findElement</span><span class="o">(</span><span class="n">By</span><span class="o">.</span><span class="na">id</span><span class="o">(</span><span class="s">&#34;submit_button&#34;</span><span class="o">));</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">inputField</span><span class="o">.</span><span class="na">sendKeys</span><span class="o">(</span><span class="s">&#34;Test Data&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">submitButton</span><span class="o">.</span><span class="na">click</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// Validate data submission
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">WebElement</span> <span class="n">resultScreen</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="na">findElement</span><span class="o">(</span><span class="n">By</span><span class="o">.</span><span class="na">id</span><span class="o">(</span><span class="s">&#34;result_screen&#34;</span><span class="o">));</span>
</span></span><span class="line"><span class="cl">    <span class="n">Assert</span><span class="o">.</span><span class="na">assertTrue</span><span class="o">(</span><span class="n">resultScreen</span><span class="o">.</span><span class="na">isDisplayed</span><span class="o">(),</span> <span class="s">&#34;Result screen should be displayed after data submission.&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></div><h3 id="네이티브와-웹-간의-상호작용을-테스트">네이티브와 웹 간의 상호작용을 테스트</h3>
<p>애플리케이션의 하이브리드 구조에서 네이티브와 웹 간의 상호작용이 올바르게 이루어지는지 검증합니다. 이 과정에서는 웹 콘텐츠와 네이티브 컴포넌트 간의 데이터 전달과 이벤트 처리가 정확한지 확인합니다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@Test</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">void</span> <span class="nf">testNativeAndWebviewInteraction</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Switch to Webview context
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">Set</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">contexts</span> <span class="o">=</span> <span class="o">((</span><span class="n">RemoteWebDriver</span><span class="o">)</span> <span class="n">driver</span><span class="o">).</span><span class="na">getContextHandles</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="o">(</span><span class="n">String</span> <span class="n">context</span> <span class="o">:</span> <span class="n">contexts</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="o">(</span><span class="n">context</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="s">&#34;WEBVIEW&#34;</span><span class="o">))</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">driver</span><span class="o">.</span><span class="na">context</span><span class="o">(</span><span class="n">context</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">            <span class="k">break</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">        <span class="o">}</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// Interact with Webview content
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">WebElement</span> <span class="n">webElement</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="na">findElement</span><span class="o">(</span><span class="n">By</span><span class="o">.</span><span class="na">id</span><span class="o">(</span><span class="s">&#34;webview_element_id&#34;</span><span class="o">));</span>
</span></span><span class="line"><span class="cl">    <span class="n">webElement</span><span class="o">.</span><span class="na">sendKeys</span><span class="o">(</span><span class="s">&#34;Test Input&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// Switch back to Native context
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">driver</span><span class="o">.</span><span class="na">context</span><span class="o">(</span><span class="s">&#34;NATIVE_APP&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// Validate interaction result
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">WebElement</span> <span class="n">resultElement</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="na">findElement</span><span class="o">(</span><span class="n">By</span><span class="o">.</span><span class="na">id</span><span class="o">(</span><span class="s">&#34;native_element_id&#34;</span><span class="o">));</span>
</span></span><span class="line"><span class="cl">    <span class="n">Assert</span><span class="o">.</span><span class="na">assertTrue</span><span class="o">(</span><span class="n">resultElement</span><span class="o">.</span><span class="na">isDisplayed</span><span class="o">(),</span> <span class="s">&#34;Result element should be visible after Webview interaction.&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></div><h2 id="jenkins">Jenkins</h2>
<p>Jenkins를 사용해 코드를 자동으로 빌드하고 테스트를 수행합니다. <a href="https://www.jenkins.io/doc/book/pipeline/">Pipeline</a> 스크립트를 통해 이 과정을 정의합니다.</p>
<h3 id="코드-체크아웃"><strong>코드 체크아웃</strong></h3>
<p>Git 저장소에서 최신 코드를 자동으로 체크아웃합니다. 소스 코드 파일이 로컬 작업 디렉토리로 다운로드됩니다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-groovy" data-lang="groovy"><span class="line"><span class="cl"><span class="n">echo</span> <span class="s2">&#34;-----------------------Code Checkout-----------------------&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">stage</span> <span class="o">(</span><span class="s1">&#39;Code&#39;</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">dir</span><span class="o">(</span><span class="s2">&#34;codeFile&#34;</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">git</span> <span class="nl">branch:</span> <span class="s1">&#39;main&#39;</span><span class="o">,</span> <span class="nl">credentialsId:</span> <span class="n">gitId</span><span class="o">,</span> <span class="nl">url:</span> <span class="n">gitCodeUrl</span>
</span></span><span class="line"><span class="cl">        <span class="n">properties</span><span class="o">([</span>
</span></span><span class="line"><span class="cl">            <span class="n">disableConcurrentBuilds</span><span class="o">(),</span>
</span></span><span class="line"><span class="cl">            <span class="n">buildDiscarder</span><span class="o">(</span><span class="n">logRotator</span><span class="o">(</span><span class="nl">daysToKeepStr:</span> <span class="s1">&#39;30&#39;</span><span class="o">,</span> <span class="nl">numToKeepStr:</span> <span class="s1">&#39;30&#39;</span><span class="o">))</span>
</span></span><span class="line"><span class="cl">        <span class="o">])</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></div><h3 id="maven-빌드"><strong>Maven 빌드</strong></h3>
<p>코드를 체크아웃한 후, Maven을 사용하여 프로젝트를 빌드합니다. 이후 테스트를 실행하여 결과를 검증합니다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-groovy" data-lang="groovy"><span class="line"><span class="cl"><span class="n">echo</span> <span class="s2">&#34;-----------------------MVN Build-----------------------&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">stage</span><span class="o">(</span><span class="s2">&#34;MVN Build&#34;</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">dir</span><span class="o">(</span><span class="n">codeFilePath</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">sh</span> <span class="s2">&#34;${mvnHome}/bin/mvn clean package -DskipTests&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">sh</span> <span class="s2">&#34;${mvnHome}/bin/mvn -Dtest=TestRunner test -Dbuild=jenkins -DappName=zigzag -Dstaging=prod -Ddevice=aos -DdeviceName=${deviceName} -DremoteServerStaging=jenkins -DremoteIP=127.0.0.1 -DremotePort=${port}&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">echo</span> <span class="s2">&#34;-----------------------JUNIT Result-----------------------&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="kt">def</span> <span class="n">testResults</span> <span class="o">=</span> <span class="n">junit</span> <span class="nl">testResults:</span> <span class="s1">&#39;target/surefire-reports/*.xml&#39;</span><span class="o">,</span> <span class="nl">allowEmptyResults:</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl">        <span class="n">failCnt</span> <span class="o">=</span> <span class="n">testResults</span><span class="o">.</span><span class="na">failCount</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="o">(</span><span class="n">failCnt</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">echo</span> <span class="s2">&#34;Tests passed successfully.&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="k">break</span>
</span></span><span class="line"><span class="cl">        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">echo</span> <span class="s2">&#34;Tests failed with fail: ${failCnt}.&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="o">}</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></div><h3 id="extent-리포트-생성"><strong>Extent 리포트 생성</strong></h3>
<p>Extent 리포트를 생성하여 테스트 결과를 시각적으로 확인할 수 있습니다. 이 리포트는 웹 페이지 형식으로 제공되며, 테스트의 상태를 한눈에 확인할 수 있도록 도와줍니다.</p>
<p>Extent 리포트 생성을 위해서는 다음 라이브러리가 필요합니다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;groupId&gt;</span>com.aventstack<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;artifactId&gt;</span>extentreports<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;version&gt;</span>{version}<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/dependency&gt;</span>
</span></span></code></pre></div><p>다음과 같이 인스턴스를 만듭니다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">const</span> <span class="n">extent</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ExtentReports</span><span class="o">();</span>
</span></span><span class="line"><span class="cl"><span class="n">ExtentHtmlReporter</span> <span class="n">htmlReporter</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ExtentHtmlReporter</span><span class="o">(</span><span class="s">&#34;&lt;directory&gt;&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl"><span class="n">htmlReporter</span><span class="o">.</span><span class="na">config</span><span class="o">().</span><span class="na">setDocumentTitle</span><span class="o">(</span><span class="s">&#34;Test Automation Report&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl"><span class="n">extent</span><span class="o">.</span><span class="na">attachReporter</span><span class="o">(</span><span class="n">htmlReporter</span><span class="o">);</span>
</span></span></code></pre></div><p>이후 각 테스트마다 테스트 결과를 기록하면 됩니다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">ExtentTest</span> <span class="n">test</span> <span class="o">=</span> <span class="n">extent</span><span class="o">.</span><span class="na">createTest</span><span class="o">(</span><span class="s">&#34;MyTest&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl"><span class="n">test</span><span class="o">.</span><span class="na">pass</span><span class="o">(</span><span class="s">&#34;pass&#34;</span><span class="o">);</span>
</span></span></code></pre></div><p>이렇게 만들어진 HTML 리포트를 <a href="https://plugins.jenkins.io/htmlpublisher/">publishHTML 플러그인</a>을 통해 Jenkins 대시보드에서 표시되도록 만들 수 있습니다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-groovy" data-lang="groovy"><span class="line"><span class="cl"><span class="n">echo</span> <span class="s2">&#34;-----------------------EXTENT Report-----------------------&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">stage</span><span class="o">(</span><span class="s1">&#39;EXTENT Report&#39;</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">publishHTML</span><span class="o">([</span>
</span></span><span class="line"><span class="cl">        <span class="nl">allowMissing:</span> <span class="kc">true</span><span class="o">,</span>
</span></span><span class="line"><span class="cl">        <span class="nl">alwaysLinkToLastBuild:</span> <span class="kc">true</span><span class="o">,</span>
</span></span><span class="line"><span class="cl">        <span class="nl">keepAll:</span> <span class="kc">true</span><span class="o">,</span>
</span></span><span class="line"><span class="cl">        <span class="nl">reportDir:</span> <span class="n">reportDir</span><span class="o">,</span>
</span></span><span class="line"><span class="cl">        <span class="nl">reportFiles:</span> <span class="n">ATFnLatencyReport</span><span class="o">,</span>
</span></span><span class="line"><span class="cl">        <span class="nl">reportName:</span> <span class="s2">&#34;Automation Report&#34;</span><span class="o">,</span>
</span></span><span class="line"><span class="cl">        <span class="nl">reportTitles:</span> <span class="s2">&#34;Report&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">])</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></div><h3 id="slack-알림"><strong>Slack 알림</strong></h3>
<p>테스트 및 빌드 결과를 Slack 채널에 알림으로 전송합니다. 성공 또는 실패에 따라 적절한 색상과 메시지가 포함된 알림이 전송되며, 결과 리포트와 관련 파일이 첨부됩니다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-groovy" data-lang="groovy"><span class="line"><span class="cl"><span class="n">echo</span> <span class="s2">&#34;-----------------------Slack Notification-----------------------&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">stage</span><span class="o">(</span><span class="s1">&#39;Slack Notification&#39;</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">def</span> <span class="n">mainColor</span>
</span></span><span class="line"><span class="cl">    <span class="kt">def</span> <span class="n">reason</span>
</span></span><span class="line"><span class="cl">    <span class="nf">if</span> <span class="o">(</span><span class="n">failCnt</span> <span class="o">!=</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">mainColor</span> <span class="o">=</span> <span class="s2">&#34;danger&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">reason</span> <span class="o">=</span> <span class="s2">&#34;Test Fail / cc. ${mensionMe} ${mensionGroup} \n&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">mainColor</span> <span class="o">=</span> <span class="s2">&#34;good&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">reason</span> <span class="o">=</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">    <span class="kt">def</span> <span class="n">msg</span> <span class="o">=</span> <span class="s2">&#34;*${env.JOB_NAME} [#${env.BUILD_NUMBER}] - by.${USER}* (&lt;${reportURL} | Open&gt;) ${reason}&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kt">def</span> <span class="n">responseLatency</span> <span class="o">=</span> <span class="n">slackSend</span><span class="o">(</span>
</span></span><span class="line"><span class="cl">        <span class="nl">channel:</span> <span class="s2">&#34;xxxxxxxx&#34;</span><span class="o">,</span>
</span></span><span class="line"><span class="cl">        <span class="nl">color:</span> <span class="n">mainColor</span><span class="o">,</span>
</span></span><span class="line"><span class="cl">        <span class="nl">message:</span> <span class="n">msg</span>
</span></span><span class="line"><span class="cl">    <span class="o">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kt">def</span> <span class="n">fileContent</span> <span class="o">=</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">dir</span><span class="o">(</span><span class="n">notification</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">		    <span class="n">fileContent</span> <span class="o">=</span> <span class="n">readFile</span><span class="o">(</span><span class="s2">&#34;summary.txt&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">slackSend</span><span class="o">(</span><span class="nl">channel:</span> <span class="s2">&#34;xxxxxxxx:&#34;</span> <span class="o">+</span> <span class="n">responseLatency</span><span class="o">.</span><span class="na">ts</span><span class="o">,</span> <span class="nl">color:</span> <span class="n">mainColor</span><span class="o">,</span> <span class="nl">message:</span> <span class="n">fileContent</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">slackUploadFile</span><span class="o">(</span><span class="nl">channel:</span> <span class="s2">&#34;xxxxxxxx:&#34;</span> <span class="o">+</span> <span class="n">responseLatency</span><span class="o">.</span><span class="na">ts</span><span class="o">,</span> <span class="nl">filePath:</span> <span class="s2">&#34;$summary&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">      <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">      <span class="n">dir</span><span class="o">(</span><span class="n">reportDir</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">slackUploadFile</span><span class="o">(</span><span class="nl">channel:</span> <span class="s2">&#34;xxxxxxxx:&#34;</span> <span class="o">+</span> <span class="n">responseLatency</span><span class="o">.</span><span class="na">ts</span><span class="o">,</span> <span class="nl">filePath:</span> <span class="s2">&#34;$excelReport&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">slackUploadFile</span><span class="o">(</span><span class="nl">channel:</span> <span class="s2">&#34;xxxxxxxx:&#34;</span> <span class="o">+</span> <span class="n">responseLatency</span><span class="o">.</span><span class="na">ts</span><span class="o">,</span> <span class="nl">filePath:</span> <span class="s2">&#34;$ATFnLatencyReport&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">      <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">      <span class="n">dir</span><span class="o">(</span><span class="n">notification</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">          <span class="kt">def</span> <span class="n">list</span> <span class="o">=</span> <span class="n">sh</span><span class="o">(</span><span class="nl">script:</span> <span class="s2">&#34;ls -r&#34;</span><span class="o">,</span> <span class="nl">returnStdout:</span> <span class="kc">true</span><span class="o">).</span><span class="na">trim</span><span class="o">().</span><span class="na">split</span><span class="o">(</span><span class="s2">&#34;\\r?\\n&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">          <span class="kt">def</span> <span class="n">successOrFail</span> <span class="o">=</span> <span class="n">failCnt</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">?</span> <span class="s2">&#34;성공&#34;</span> <span class="o">:</span> <span class="s2">&#34;실패&#34;</span>
</span></span><span class="line"><span class="cl">          <span class="n">list</span><span class="o">.</span><span class="na">each</span> <span class="o">{</span> <span class="n">fileName</span> <span class="o">-&gt;</span>
</span></span><span class="line"><span class="cl">              <span class="k">if</span> <span class="o">(</span><span class="n">fileName</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="n">successOrFail</span><span class="o">)</span> <span class="o">&amp;&amp;</span> <span class="n">fileName</span><span class="o">.</span><span class="na">endsWith</span><span class="o">(</span><span class="s2">&#34;.png&#34;</span><span class="o">))</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">                  <span class="kt">def</span> <span class="n">tempName</span> <span class="o">=</span> <span class="n">fileName</span><span class="o">.</span><span class="na">replace</span><span class="o">(</span><span class="s2">&#34;.png&#34;</span><span class="o">,</span> <span class="s2">&#34;&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">                  <span class="n">slackSend</span><span class="o">(</span><span class="nl">channel:</span> <span class="s2">&#34;xxxxxxxx:&#34;</span> <span class="o">+</span> <span class="n">responseLatency</span><span class="o">.</span><span class="na">ts</span><span class="o">,</span> <span class="nl">color:</span> <span class="n">mainColor</span><span class="o">,</span> <span class="nl">message:</span> <span class="n">tempName</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">                  <span class="n">slackUploadFile</span><span class="o">(</span><span class="nl">channel:</span> <span class="s2">&#34;xxxxxxxx:&#34;</span> <span class="o">+</span> <span class="n">responseLatency</span><span class="o">.</span><span class="na">ts</span><span class="o">,</span> <span class="nl">filePath:</span> <span class="s2">&#34;$fileName&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">              <span class="o">}</span>
</span></span><span class="line"><span class="cl">          <span class="o">}</span>
</span></span><span class="line"><span class="cl">          <span class="n">list</span><span class="o">.</span><span class="na">findAll</span> <span class="o">{</span> <span class="n">it</span><span class="o">.</span><span class="na">endsWith</span><span class="o">(</span><span class="s2">&#34;.mp4&#34;</span><span class="o">)</span> <span class="o">}.</span><span class="na">each</span> <span class="o">{</span> <span class="n">fileName</span> <span class="o">-&gt;</span>
</span></span><span class="line"><span class="cl">              <span class="n">slackUploadFile</span><span class="o">(</span><span class="nl">channel:</span> <span class="s2">&#34;xxxxxxxx:&#34;</span> <span class="o">+</span> <span class="n">responseLatency</span><span class="o">.</span><span class="na">ts</span><span class="o">,</span> <span class="nl">filePath:</span> <span class="s2">&#34;$fileName&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">          <span class="o">}</span>
</span></span><span class="line"><span class="cl">      <span class="o">}</span>
</span></span><span class="line"><span class="cl">  <span class="o">}</span>
</span></span></code></pre></div><h2 id="장치-연동-및-운영">장치 연동 및 운영</h2>
<p>지그재그 애플리케이션의 품질을 보장하기 위해, 다양한 디바이스에서 테스트를 수행하고 있습니다. 초기에는 클라우드 기반의 AWS Device Farm을 활용하였으나, 현재는 로컬 장치로 전환하여 테스트를 진행하고 있습니다. 로컬 장치에는 실제 Android 및 iOS 디바이스가 포함되며, 이를 통해 다양한 해상도와 운영 체제 버전에서의 테스트를 수행하고 있습니다.</p>
<p>로컬 장치 사용은 다음과 같은 장점을 제공하였습니다:</p>
<ul>
<li><strong>비용 절감</strong>: 가장 직접적인 이유로, 클라우드 장치의 사용료를 절감할 수 있으며, 장치에 대한 직접적인 소유와 제어가 가능해졌습니다.</li>
<li><strong>테스트 유연성 향상</strong>: 다양한 장치와 운영 체제 버전을 자유롭게 추가하거나 변경할 수 있어 테스트 환경의 유연성이 증가했습니다.</li>
<li><strong>효율적인 테스트</strong>: 실제 장치를 사용함으로써, 테스트 자동화의 정확성과 신뢰성을 높일 수 있었습니다. 장치에 대한 도메인 지식을 갖춘 상태에서 더 구체적이고 효과적인 테스트를 수행할 수 있습니다.</li>
<li><strong>프로세스 제어 강화</strong>: 로컬 장치를 사용함으로써 테스트 프로세스에 대한 전반적인 통제력을 강화할 수 있으며, 필요한 경우 즉시 문제를 식별하고 해결할 수 있는 빠른 피드백 루프를 구축할 수 있었습니다.</li>
</ul>
<p>이와 같은 장점 덕분에, 더욱 효과적이고 신속한 테스트를 진행할 수 있으며, 이를 통해 애플리케이션의 품질을 지속적으로 향상시키고 사용자들에게 더 나은 경험을 제공하고 있습니다.</p>
<h2 id="결과-분석-및-보고">결과 분석 및 보고</h2>
<p>테스트 결과는 여러 가지 방법으로 제공되며, 이를 통해 테스트의 신뢰성을 확보하고 문제를 신속하게 분석할 수 있도록 지원하고 있습니다. 자동화된 시스템을 통해 테스트 결과를 슬랙 알림, 리포트 파일, 젠킨스 대시보드를 통해 시각화하고 있습니다. 각 방법의 세부 사항은 다음과 같습니다:</p>
<ul>
<li><strong>슬랙 알림</strong>: 테스트 완료 후, 결과는 즉시 슬랙을 통해 알림으로 전달됩니다. 이 알림은 테스트 결과의 요약을 포함하며, 문제가 발생했을 때 빠르게 피드백을 받을 수 있는 방법을 제공합니다.
<img src="/img/content/2024-08-09-1/2.png" alt="2.png"></li>
<li><strong>리포트 파일</strong>: 자동으로 생성되는 리포트 파일은 상세한 테스트 결과를 포함하고 있습니다. 이 파일에는 테스트 실행의 전체적인 개요와 각 테스트 케이스의 결과가 포함되어 있으며, 문제를 분석하고 해결하는 데 필요한 정보를 제공합니다.
<img src="/img/content/2024-08-09-1/3.png" alt="3.png"></li>
<li><strong>젠킨스 대시보드</strong>: 젠킨스 대시보드는 전체 테스트 실행 현황과 결과를 한눈에 파악할 수 있도록 시각화된 정보를 제공합니다. 이를 통해 테스트의 진행 상황을 지속적으로 모니터링하고, 발생한 문제에 대해 빠르게 대응할 수 있습니다. 대시보드는 테스트 성공률, 실패 원인, 실행 시간 등을 포함한 다양한 지표를 제공하여 효율적인 테스트 관리와 문제 해결을 지원합니다.
<img src="/img/content/2024-08-09-1/4.png" alt="4.png"></li>
</ul>
<h2 id="테스트-자동화-확장">테스트 자동화 확장</h2>
<p>이 자동화 도구는 기본적으로 E2E 테스트를 위한 것이지만, 다른 용도로도 활용할 수 있습니다. 카카오스타일에서는 이 기술을 통해 주요 페이지의 성능을 측정하고 있습니다.</p>
<ul>
<li>
<p><strong>진입 소요 시간 측정</strong>: 각 페이지의 로딩 시간과 응답 시간을 측정하여 사용자 경험을 평가합니다.</p>
</li>
<li>
<p><strong>메모리 &amp; 네트워크 사용량 측정</strong>: 애플리케이션의 메모리 및 네트워크 사용량을 분석하여 최적화 포인트를 찾습니다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">java.io.BufferedReader</span><span class="o">;</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">java.io.InputStreamReader</span><span class="o">;</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">NetworkUtils</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// 환경 변수 또는 상수 정의
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">ADB_SHELL</span> <span class="o">=</span> <span class="s">&#34;/platform-tools/adb&#34;</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">DEVICE_NAME</span> <span class="o">=</span> <span class="s">&#34;your_device_name&#34;</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">double</span> <span class="nf">getNetworkInfo</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">String</span> <span class="n">cmd</span> <span class="o">=</span> <span class="n">ADB_SHELL</span> <span class="o">+</span> <span class="s">&#34; -s &#34;</span> <span class="o">+</span> <span class="n">DEVICE_NAME</span> <span class="o">+</span> <span class="s">&#34; shell xxxxxxxxxxxxxxxx&#39;&#34;</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">String</span> <span class="n">contains</span> <span class="o">=</span> <span class="s">&#34;RX bytes&#34;</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">        <span class="kt">int</span> <span class="n">idx</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="kt">double</span> <span class="n">networkUsageInfo</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">Process</span> <span class="n">process</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">try</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">            <span class="c1">// 명령어 실행
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="n">process</span> <span class="o">=</span> <span class="n">Runtime</span><span class="o">.</span><span class="na">getRuntime</span><span class="o">().</span><span class="na">exec</span><span class="o">(</span><span class="n">cmd</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="c1">// 명령어 실행 결과를 읽기 위한 BufferedReader
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="k">try</span> <span class="o">(</span><span class="n">BufferedReader</span> <span class="n">bufferedReader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="n">InputStreamReader</span><span class="o">(</span><span class="n">process</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">())))</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">                <span class="n">String</span> <span class="n">line</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">                <span class="k">while</span> <span class="o">((</span><span class="n">line</span> <span class="o">=</span> <span class="n">bufferedReader</span><span class="o">.</span><span class="na">readLine</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">                    <span class="k">if</span> <span class="o">(</span><span class="n">line</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="n">contains</span><span class="o">))</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">                        <span class="n">String</span><span class="o">[]</span> <span class="n">fields</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="na">trim</span><span class="o">().</span><span class="na">split</span><span class="o">(</span><span class="s">&#34;\\s+&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">                        <span class="k">if</span> <span class="o">(</span><span class="n">fields</span><span class="o">.</span><span class="na">length</span> <span class="o">&gt;</span> <span class="n">idx</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">                            <span class="c1">// RX bytes 값 추출 및 변환
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                            <span class="n">info</span> <span class="o">=</span> <span class="n">Double</span><span class="o">.</span><span class="na">parseDouble</span><span class="o">(</span><span class="n">fields</span><span class="o">[</span><span class="n">idx</span><span class="o">].</span><span class="na">replace</span><span class="o">(</span><span class="s">&#34;bytes:&#34;</span><span class="o">,</span> <span class="s">&#34;&#34;</span><span class="o">).</span><span class="na">trim</span><span class="o">());</span>
</span></span><span class="line"><span class="cl">                        <span class="o">}</span>
</span></span><span class="line"><span class="cl">                        <span class="k">break</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">                    <span class="o">}</span>
</span></span><span class="line"><span class="cl">                <span class="o">}</span>
</span></span><span class="line"><span class="cl">            <span class="o">}</span>
</span></span><span class="line"><span class="cl">        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">IOException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">            <span class="c1">// 예외 처리
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="n">consoleLog</span><span class="o">.</span><span class="na">debugWarning</span><span class="o">(</span><span class="s">&#34;Failed to execute command or read output.&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">            <span class="n">consoleLog</span><span class="o">.</span><span class="na">debugException</span><span class="o">(</span><span class="n">e</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
</span></span><span class="line"><span class="cl">        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">NumberFormatException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">            <span class="c1">// 숫자 변환 예외 처리
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="n">consoleLog</span><span class="o">.</span><span class="na">debugWarning</span><span class="o">(</span><span class="s">&#34;Failed to parse network info.&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">            <span class="n">consoleLog</span><span class="o">.</span><span class="na">debugException</span><span class="o">(</span><span class="n">e</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
</span></span><span class="line"><span class="cl">        <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">            <span class="c1">// Process 종료
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="k">if</span> <span class="o">(</span><span class="n">process</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">                <span class="n">process</span><span class="o">.</span><span class="na">destroy</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">            <span class="o">}</span>
</span></span><span class="line"><span class="cl">        <span class="o">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">networkUsageInfo</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">     <span class="kd">public</span> <span class="kt">double</span> <span class="nf">getMemoryInfo</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">String</span> <span class="n">cmd</span> <span class="o">=</span> <span class="n">ADB_SHELL</span> <span class="o">+</span> <span class="s">&#34; -s &#34;</span> <span class="o">+</span> <span class="n">DEVICE_NAME</span> <span class="o">+</span> <span class="s">&#34; shell xxxxxxxxxxxxxxxx&#34;</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">String</span> <span class="n">contains</span> <span class="o">=</span> <span class="s">&#34;TOTAL&#34;</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">        <span class="kt">int</span> <span class="n">idx</span> <span class="o">=</span> <span class="mi">2</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="kt">double</span> <span class="n">memoryUsageInfo</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">Process</span> <span class="n">process</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">try</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">            <span class="c1">// 명령어 실행
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="n">process</span> <span class="o">=</span> <span class="n">Runtime</span><span class="o">.</span><span class="na">getRuntime</span><span class="o">().</span><span class="na">exec</span><span class="o">(</span><span class="n">cmd</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="c1">// 명령어 실행 결과를 읽기 위한 BufferedReader
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="k">try</span> <span class="o">(</span><span class="n">BufferedReader</span> <span class="n">bufferedReader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="n">InputStreamReader</span><span class="o">(</span><span class="n">process</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">())))</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">                <span class="n">String</span> <span class="n">line</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">                <span class="k">while</span> <span class="o">((</span><span class="n">line</span> <span class="o">=</span> <span class="n">bufferedReader</span><span class="o">.</span><span class="na">readLine</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">                    <span class="k">if</span> <span class="o">(</span><span class="n">line</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="n">contains</span><span class="o">))</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">                        <span class="n">String</span><span class="o">[]</span> <span class="n">fields</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="na">trim</span><span class="o">().</span><span class="na">split</span><span class="o">(</span><span class="s">&#34;\\s+&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">                        <span class="k">if</span> <span class="o">(</span><span class="n">fields</span><span class="o">.</span><span class="na">length</span> <span class="o">&gt;</span> <span class="n">idx</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">                            <span class="c1">// TOTAL 값 추출 및 변환
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                            <span class="n">memoryUsageInfo</span> <span class="o">=</span> <span class="n">Double</span><span class="o">.</span><span class="na">parseDouble</span><span class="o">(</span><span class="n">fields</span><span class="o">[</span><span class="n">idx</span><span class="o">].</span><span class="na">replaceAll</span><span class="o">(</span><span class="s">&#34;[^0-9.]&#34;</span><span class="o">,</span> <span class="s">&#34;&#34;</span><span class="o">).</span><span class="na">trim</span><span class="o">());</span>
</span></span><span class="line"><span class="cl">                        <span class="o">}</span>
</span></span><span class="line"><span class="cl">                        <span class="k">break</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">                    <span class="o">}</span>
</span></span><span class="line"><span class="cl">                <span class="o">}</span>
</span></span><span class="line"><span class="cl">            <span class="o">}</span>
</span></span><span class="line"><span class="cl">        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">IOException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">            <span class="c1">// 예외 처리
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="n">consoleLog</span><span class="o">.</span><span class="na">debugWarning</span><span class="o">(</span><span class="s">&#34;Failed to execute command or read output.&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">            <span class="n">consoleLog</span><span class="o">.</span><span class="na">debugException</span><span class="o">(</span><span class="n">e</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
</span></span><span class="line"><span class="cl">        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">NumberFormatException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">            <span class="c1">// 숫자 변환 예외 처리
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="n">consoleLog</span><span class="o">.</span><span class="na">debugWarning</span><span class="o">(</span><span class="s">&#34;Failed to parse memory info.&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">            <span class="n">consoleLog</span><span class="o">.</span><span class="na">debugException</span><span class="o">(</span><span class="n">e</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
</span></span><span class="line"><span class="cl">        <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">            <span class="c1">// Process 종료
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="k">if</span> <span class="o">(</span><span class="n">process</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">                <span class="n">process</span><span class="o">.</span><span class="na">destroy</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">            <span class="o">}</span>
</span></span><span class="line"><span class="cl">        <span class="o">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">memoryUsageInfo</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></div></li>
</ul>
<h2 id="마치며">마치며</h2>
<p>테스트 자동화는 많은 이점이 있지만, 한계점과 어려움도 존재합니다.</p>
<ol>
<li><strong>초기 설정과 유지보수가 어려움:</strong> 테스트 자동화 시스템을 처음 설정하는 데 많은 시간과 노력이 필요합니다. 또한, UI가 변경되면 스크립트도 바뀌어야 하는 등, 지속적으로 유지보수를 해야 하는데 생각보다 많은 시간이 소요됩니다.</li>
<li><strong>자동화 한계:</strong> 모든 테스트 시나리오를 자동화할 수 있는 것은 아닙니다. 예를 들어, 감성적 피드백은 자동화하기 어렵습니다.</li>
<li><strong>테스트 스크립트의 안정성:</strong> 작성한 스크립트가 테스트 환경에 민감하게 반응해서 비결정적으로 실패하는 경우가 생각보다 많습니다. 테스트 스크립트 자체가 불안정하면, 테스트 결과가 일관되지 않아 신뢰성을 부여하기 어렵습니다.</li>
</ol>
<p>아직은 단순 반복적인 기본 기능들에 대해서만 테스트 자동화가 적용되어 있습니다. 하지만 앞으로도 지속적인 개선과 확장을 통해 테스트 자동화의 범위와 효과를 더욱 넓혀 나갈 것을 계획하고 있습니다. 이를 통해 높은 품질의 소프트웨어를 신속하게 제공하여 사용자에게 최상의 경험을 제공해 나가려고 합니다.</p>

      
    </div>

    <div class='col-lg-3 sidemenu'>
  <h4>Recent Posts</h4>
  <ul class="sidemenu-recent-list">
    
    <a href='/ko/2024-10-07-1-animation-module/'>
      <li class="sidemenu-recent-item">기획전 애니메이션 모듈 개발</li>
    </a>
    
    <a href='/ko/2024-08-09-1-ui-testing-automation/'>
      <li class="sidemenu-recent-item">UI 테스트 자동화</li>
    </a>
    
    <a href='/ko/2024-08-04-1-improve-server-driven-ui/'>
      <li class="sidemenu-recent-item">Server Driven UI 호출 구조 개선</li>
    </a>
    
    <a href='/ko/2024-06-28-1-optimize-font-traffic/'>
      <li class="sidemenu-recent-item">웹폰트 최적화를 통한 CDN 비용절감</li>
    </a>
    
  </ul>
  <hr>
  <h4>Tags</h4>
  <ul class="sidemenu-recent-list">
    
    <a href="/ko/tags/amazon-sqs/">
      <li class="sidemenu-recent-tags">amazon-sqs</li>
    </a>
    
    <a href="/ko/tags/analytics/">
      <li class="sidemenu-recent-tags">analytics</li>
    </a>
    
    <a href="/ko/tags/android/">
      <li class="sidemenu-recent-tags">android</li>
    </a>
    
    <a href="/ko/tags/aws/">
      <li class="sidemenu-recent-tags">aws</li>
    </a>
    
    <a href="/ko/tags/aws-batch/">
      <li class="sidemenu-recent-tags">aws-batch</li>
    </a>
    
    <a href="/ko/tags/aws-lambda/">
      <li class="sidemenu-recent-tags">aws-lambda</li>
    </a>
    
    <a href="/ko/tags/botkit/">
      <li class="sidemenu-recent-tags">botkit</li>
    </a>
    
    <a href="/ko/tags/croquis/">
      <li class="sidemenu-recent-tags">croquis</li>
    </a>
    
    <a href="/ko/tags/css/">
      <li class="sidemenu-recent-tags">css</li>
    </a>
    
    <a href="/ko/tags/data/">
      <li class="sidemenu-recent-tags">data</li>
    </a>
    
    <a href="/ko/tags/event/">
      <li class="sidemenu-recent-tags">event</li>
    </a>
    
    <a href="/ko/tags/front-end/">
      <li class="sidemenu-recent-tags">front-end</li>
    </a>
    
    <a href="/ko/tags/frontend/">
      <li class="sidemenu-recent-tags">frontend</li>
    </a>
    
    <a href="/ko/tags/git/">
      <li class="sidemenu-recent-tags">git</li>
    </a>
    
    <a href="/ko/tags/github/">
      <li class="sidemenu-recent-tags">github</li>
    </a>
    
    <a href="/ko/tags/graphql/">
      <li class="sidemenu-recent-tags">graphql</li>
    </a>
    
    <a href="/ko/tags/ios/">
      <li class="sidemenu-recent-tags">ios</li>
    </a>
    
    <a href="/ko/tags/jenkins/">
      <li class="sidemenu-recent-tags">jenkins</li>
    </a>
    
    <a href="/ko/tags/jotai/">
      <li class="sidemenu-recent-tags">jotai</li>
    </a>
    
    <a href="/ko/tags/kubernetes/">
      <li class="sidemenu-recent-tags">kubernetes</li>
    </a>
    
    <a href="/ko/tags/log/">
      <li class="sidemenu-recent-tags">log</li>
    </a>
    
    <a href="/ko/tags/microservice/">
      <li class="sidemenu-recent-tags">microservice</li>
    </a>
    
    <a href="/ko/tags/mithril/">
      <li class="sidemenu-recent-tags">mithril</li>
    </a>
    
    <a href="/ko/tags/node.js/">
      <li class="sidemenu-recent-tags">node.js</li>
    </a>
    
    <a href="/ko/tags/nodejs/">
      <li class="sidemenu-recent-tags">nodejs</li>
    </a>
    
    <a href="/ko/tags/npm/">
      <li class="sidemenu-recent-tags">npm</li>
    </a>
    
    <a href="/ko/tags/react/">
      <li class="sidemenu-recent-tags">react</li>
    </a>
    
    <a href="/ko/tags/rest-api/">
      <li class="sidemenu-recent-tags">rest-api</li>
    </a>
    
    <a href="/ko/tags/serverless-architecture/">
      <li class="sidemenu-recent-tags">serverless-architecture</li>
    </a>
    
    <a href="/ko/tags/slack/">
      <li class="sidemenu-recent-tags">slack</li>
    </a>
    
    <a href="/ko/tags/stack/">
      <li class="sidemenu-recent-tags">stack</li>
    </a>
    
    <a href="/ko/tags/storybook/">
      <li class="sidemenu-recent-tags">storybook</li>
    </a>
    
    <a href="/ko/tags/task-queue/">
      <li class="sidemenu-recent-tags">task-queue</li>
    </a>
    
    <a href="/ko/tags/testing/">
      <li class="sidemenu-recent-tags">testing</li>
    </a>
    
    <a href="/ko/tags/thrift/">
      <li class="sidemenu-recent-tags">thrift</li>
    </a>
    
    <a href="/ko/tags/tutorial/">
      <li class="sidemenu-recent-tags">tutorial</li>
    </a>
    
    <a href="/ko/tags/typescript/">
      <li class="sidemenu-recent-tags">typescript</li>
    </a>
    
    <a href="/ko/tags/ui/">
      <li class="sidemenu-recent-tags">ui</li>
    </a>
    
    <a href="/ko/tags/vertical-align/">
      <li class="sidemenu-recent-tags">vertical-align</li>
    </a>
    
    <a href="/ko/tags/webpack/">
      <li class="sidemenu-recent-tags">webpack</li>
    </a>
    
    <a href="/ko/tags/%EB%A1%9C%EA%B7%B8/">
      <li class="sidemenu-recent-tags">로그</li>
    </a>
    
    <a href="/ko/tags/%EB%A7%88%EC%9D%B4%ED%81%AC%EB%A1%9C%EC%84%9C%EB%B9%84%EC%8A%A4/">
      <li class="sidemenu-recent-tags">마이크로서비스</li>
    </a>
    
    <a href="/ko/tags/%ED%8A%9C%ED%86%A0%EB%A6%AC%EC%96%BC/">
      <li class="sidemenu-recent-tags">튜토리얼</li>
    </a>
    
  </ul>
</div>

    <div class='col-12'>
      <hr>

      <div class='float-left'>
        
        <a class='btn btn-outline-primary' href='/ko/2024-08-04-1-improve-server-driven-ui/' title='Server Driven UI 호출 구조 개선'>&larr; 이전 글</a>
        
      </div>
      <div class='float-right'>
        
        <a class='btn btn-outline-primary' href='/ko/2024-10-07-1-animation-module/' title='기획전 애니메이션 모듈 개발'>다음 글 &rarr;</a>
        
      </div>
      <div class='clearfix'></div>
      <hr>
      <div class='text-center'>
        <div id="disqus_thread"></div>
<script type="application/javascript">
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "croquiscom-devblog" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
      </div>
    </div>
  </div>

</div>

<div class='container'>
  <hr>
  <footer>
    <p>
      &copy; 2012-2021 kakaostyle.com
      <span class='float-right text-muted'>
        powered by
        <a href='https://gohugo.io/' target='_blank'>Hugo</a>
        and
        <a href='https://getbootstrap.com/' target='_blank'>Bootstrap</a>
      </span>
    </p>
  </footer>
</div>


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-48716672-3', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
  integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
  integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"
  integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T" crossorigin="anonymous"></script>
<script src="https://use.fontawesome.com/releases/v5.0.13/js/all.js"
  integrity="sha384-xymdQtn1n3lH2wcu0qhcdaOpQwyoarkgLVxC/wZ5q7h9gHtxICrpcaSUfygqZGOe" crossorigin="anonymous"></script>

</body>

</html>
